========================================
Release notes - eXo Platform 4.2.0-RC1
========================================


Date: 12/05/2015
Version: 4.2.0-RC1

I.    MAIN CHANGES
II.   STARTUP INSTRUCTIONS
III.  UPGRADE NOTES

= I. MAIN CHANGES =

Main changes since Platform 4.2.0-M2

* Document Preview 
* Open Document in Office
* Intranet Notifications
* User Profile Redesigned
* New REST APIs in Calendar


= II. STARTUP INSTRUCTIONS =

The file README.txt contains information on how to start the product.

= III. UPGRADE NOTES =

The upgrade procedure is only guaranteed and tested to be transparent from the previous maintenance version (x.y.z from x.y.z-1). So, we recommend to apply upgrade procedures for all versions between your current and the target one.
However, if you still insist on skipping versions, we strongly advise to read all upgrade notes of the versions you are skipping to see if your project is impacted by any previous upgrade procedure.

== Upgrading from Platform 4.1.0 to 4.2.0-RC1 ==

* Prepare bundle:
** If eXo Platform is connected to a populated organizational data source, Organization Integration Service must be activated so that the data are synchronized. Please refer to chapter 7 "LDAP Integration" in Administrator Guide for the detail.
** Go to $PLATFORM-4.2.0-RC1-TOMCAT_HOME/gatein/conf/ folder (Tomcat bundle) or $PLATFORM-4.2.0-RC1-JBOSS_HOME/standalone/configuration/gatein/ folder (Jboss bundle).
** Rename upgrade-4.1.0-to-4.2.0-RC1-sample.properties to upgrade.properties
* Start server. The upgrade will be run automatically.
* Stop server.
* Remove/Rename the file upgrade.properties
* Restart the server. You're ready.

=== Description of the plugins used in this upgrade ===

* The number in parentheses indicates the version for this upgrade.

# Proceed to the upgrade if it's first time you run this service
commons.upgrade.proceedIfFirstRun=false

#ECMS-6815: Open Document in Office
commons.upgrade.SiteExplorerTemplateUpgradePlugin.enable=true

#ECMS-6815: Open Document in Office
commons.upgrade.UserViewUpgradePlugin.enable=true

#ECMS-6487: Document Preview
commons.upgrade.NodeTypeTemplateUpgradePlugin.enable=true

#ECMS-6479: Update label format in WCM Search Result when there are results
commons.upgrade.WCMTemplateUpgradePlugin.enable=true

# ECMS-6054: Problem when restore many nodes with the same title (4.2.0-M2)
commons.upgrade.RestoreLocationNodeTypeUpgradePlugin.enable=true

# PLF-5874: Redundant User navigation in built-in Answers page (4.2.0-M2)
commons.upgrade.AnswerPageUpgradePlugin.enable=true

# UI-3473: Cache level gadget is broken, some information is empty
commons.upgrade.Upgrade-Gadgets.enable=true

#SOC-4458: Intranet Notifications - Register new page View All Notification PLF 4.2-RC1
commons.upgrade.Upgrade-PortalData.enable=true

#SOC-4458: Intranet Notifications - Register new node type to store the Intranet Notifications PLF 4.2-RC1
commons.upgrade.UpgradeNotifcationNodeTypePlugin.enable=true

#SOC-4458: Intranet Notifications - Migrate use setting from old version to use Intranet Notification system PLF 4.2-RC1 (4.2.0-RC1)
commons.upgrade.UpgradeUserNotificationSettingPlugin.enable=true

#SOC-4399: Missing post and Server become slow when share activities on Activity Stream (4.2.0-RC1)
commons.upgrade.ModelOverriderUpdaterPlugin.enable=true

== Upgrading from Platform 4.1.1 to 4.2.0-RC1 ==

#ECMS-6815: Open Document in Office
commons.upgrade.SiteExplorerTemplateUpgradePlugin.enable=true

#ECMS-6815: Open Document in Office
commons.upgrade.UserViewUpgradePlugin.enable=true

#ECMS-6487: Document Preview
# ECMS-5566: update Comment's view
# PLF-6066: update the dialog template of content types in exo-acme-sample addon and in exo-wai-sample addon
commons.upgrade.NodeTypeTemplateUpgradePlugin.enable=true

#ECMS-6479: Update label format in WCM Search Result when there are results
commons.upgrade.WCMTemplateUpgradePlugin.enable=true

# ECMS-6054: Problem when restore many nodes with the same title (4.2.0-M2)
commons.upgrade.RestoreLocationNodeTypeUpgradePlugin.enable=true

# ECMS-6590: update AddToFavorites.groovy
commons.upgrade.ScriptUpgradePlugin.enable=true

# PLF-5874: Redundant User navigation in built-in Answers page (4.2.0-M2)
commons.upgrade.AnswerPageUpgradePlugin.enable=true

# UI-3473: Cache level gadget is broken, some information is empty
commons.upgrade.Upgrade-Gadgets.enable=true

#SOC-4458: Intranet Notifications - Register new page View All Notification PLF 4.2-RC1
commons.upgrade.Upgrade-PortalData.enable=true

#SOC-4458: Intranet Notifications - Register new node type to store the Intranet Notifications PLF 4.2-RC1
commons.upgrade.UpgradeNotifcationNodeTypePlugin.enable=true

#SOC-4458: Intranet Notifications - Migrate use setting from old version to use Intranet Notification system PLF 4.2-RC1 (4.2.0-RC1)
commons.upgrade.UpgradeUserNotificationSettingPlugin.enable=true

#SOC-4399: Missing post and Server become slow when share activities on Activity Stream (4.2.0-RC1)
commons.upgrade.ModelOverriderUpdaterPlugin.enable=true

== Upgrading from Platform 4.2.0-M2 to 4.2.0-RC1 ==

* Prepare bundle:
** If eXo Platform is connected to a populated organizational data source, Organization Integration Service must be activated so that the data are synchronized. Please refer to chapter 7 "LDAP Integration" in Administrator Guide for the detail.
** Go to $PLATFORM-4.2.0-RC1-TOMCAT_HOME/gatein/conf/ folder (Tomcat bundle) or $PLATFORM-4.2.0-RC1-JBOSS_HOME/standalone/configuration/gatein/ folder (Jboss bundle).
** Rename upgrade-4.2.0-M2-to-4.2.0-RC1-sample.properties to upgrade.properties
* Start server. The upgrade will be run automatically.
* Stop server.
* Remove/Rename the file upgrade.properties
* Restart the server. You're ready.

=== Description of the plugins used in this upgrade ===

* The number in parentheses indicates the version for this upgrade.

#ECMS-6815: Open Document in Office
commons.upgrade.SiteExplorerTemplateUpgradePlugin.enable=true

#ECMS-6815: Open Document in Office
commons.upgrade.UserViewUpgradePlugin.enable=true

#ECMS-6487: Document Preview
commons.upgrade.NodeTypeTemplateUpgradePlugin.enable=true

#ECMS-6479: Update label format in WCM Search Result when there are results
commons.upgrade.WCMTemplateUpgradePlugin.enable=true

#SOC-4458: Intranet Notifications - Register new page View All Notification PLF 4.2-RC1
commons.upgrade.Upgrade-PortalData.enable=true

#SOC-4458: Intranet Notifications - Register new node type to store the Intranet Notifications PLF 4.2-RC1
commons.upgrade.UpgradeNotifcationNodeTypePlugin.enable=true

#SOC-4458: Intranet Notifications - Migrate use setting from old version to use Intranet Notification system PLF 4.2-RC1 (4.2.0-RC1)
commons.upgrade.UpgradeUserNotificationSettingPlugin.enable=true

#SOC-4399: Missing post and Server become slow when share activities on Activity Stream (4.2.0-RC1)
commons.upgrade.ModelOverriderUpdaterPlugin.enable=true

== Known issues ==

EXOGTN-1963: SPNEGO doesn't work when using Firefox client on the same Window 8 with PLF 4.2
EXOGTN-1969: [SSO - OpenAM] Cannot login to PLF with cross domain authentication since OpenAM 10.1


